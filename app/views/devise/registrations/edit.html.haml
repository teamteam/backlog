.row
  .col-lg-10.col-lg-offset-1
    %h1
      Account Settings

  .col-lg-10.col-lg-offset-1
    = form_for resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, :role => 'form', :class => 'form-horizontal' } do |f|
      = devise_error_messages!

      .form-group{:class => resource.errors.has_key?(:email) ? 'has-error' : ''}
        .col-lg-2.control-label
          = f.label :email
        .col-lg-8
          = f.email_field :email, :autofocus => true, :class => "form-control"

      .form-group{:class => resource.errors.has_key?(:password) ? 'has-error' : ''}
        .col-lg-2.control-label
          = f.label :password
        .col-lg-8
          = f.password_field :password, :autocomplete => "off", :class => 'form-control'

      .form-group{:class => resource.errors.has_key?(:password_confirmation) ? 'has-error' : ''}
        .col-lg-2.control-label
          = f.label :password_confirmation  
        .col-lg-8
          = f.password_field :password_confirmation, :class => 'form-control'
          %hr

      .form-group{:class => resource.errors.has_key?(:password_confirmation) ? 'has-error' : ''}
        .col-lg-2.control-label
          = f.label :current_password
        .col-lg-8
          = f.password_field :current_password, :class => 'form-control'

      .form-group{:class => resource.errors.has_key?(:password_confirmation) ? 'has-error' : ''}
        .col-lg-2.control-label
        .col-lg-8
          = f.submit "Update", :class => "btn btn-default"
          %hr

      .form-group
        .col-lg-2.control-label
          %label
            Unhappy?
        .col-lg-8
          = button_to "Cancel my account", registration_path(resource_name), :data => { :confirm => "Are you sure?" }, :method => :delete, :class => "btn btn-danger"
